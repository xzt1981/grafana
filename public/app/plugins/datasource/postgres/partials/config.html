
<h3 class="page-heading">PostgreSQL 连接</h3>

<div class="gf-form-group">
	<div class="gf-form max-width-30">
		<span class="gf-form-label width-7">服务器</span>
		<input type="text" class="gf-form-input" ng-model='ctrl.current.url' placeholder="localhost:5432" bs-typeahead="{{['localhost:5432', 'localhost:5433']}}" required></input>
	</div>

	<div class="gf-form max-width-30">
		<span class="gf-form-label width-7">数据库</span>
		<input type="text" class="gf-form-input" ng-model='ctrl.current.database' placeholder="数据库名字" required></input>
	</div>

	<div class="gf-form-inline">
		<div class="gf-form max-width-15">
			<span class="gf-form-label width-7">用户</span>
			<input type="text" class="gf-form-input" ng-model='ctrl.current.user' placeholder="用户"></input>
		</div>
		<div class="gf-form max-width-15" ng-if="!ctrl.current.secureJsonFields.password">
			<span class="gf-form-label width-7">密码</span>
			<input type="password" class="gf-form-input" ng-model='ctrl.current.secureJsonData.password' placeholder="密码"></input>
    </div>
    <div class="gf-form max-width-19" ng-if="ctrl.current.secureJsonFields.password">
      <span class="gf-form-label width-7">密码</span>
      <input type="text" class="gf-form-input" disabled="disabled" value="configured">
      <a class="btn btn-secondary gf-form-btn" href="#" ng-click="ctrl.current.secureJsonFields.password = false">重置</a>
    </div>
	</div>
	<div class="gf-form">
		<label class="gf-form-label width-7">SSL 模式</label>
		<div class="gf-form-select-wrapper max-width-15 gf-form-select-wrapper--has-help-icon">
			<select class="gf-form-input" ng-model="ctrl.current.jsonData.sslmode" ng-options="mode for mode in ['disable', 'require', 'verify-ca', 'verify-full']" ng-init="ctrl.current.jsonData.sslmode"></select>
			<info-popover mode="right-absolute">
				该选项决定是否优先使用与服务器协商SSL TCP/IP连接
			</info-popover>
		</div>
	</div>
</div>

<div class="gf-form-group">
	<div class="grafana-info-box">
		<h5>用户权限</h5>
		<p>
			在需要查询的指定数据库表上只能授予数据库用户SELECT权限，本应用不会验证任何查询，所以可以是任何SQL语句。比如，<code>DELETE FROM user;</code> and <code>DROP TABLE user;</code>这样的语句会被数据库执行，为了安全，我们<strong>强烈</strong>建议创建一个特殊的权限受控的PostgreSQL用户
		</p>
	</div>
</div>

